
-----------------------------------------------------
if !VC.CodeEnt.Repair_Wep then VC.CodeEnt.Repair_Wep = {} end  VC.CodeEnt.Repair_Wep.GetViewModelPosition = function(self, pos, ang)  if !vcmod1 then return end   local FTm = VC.FTm()  local ent = self:GetNWEntity("VC_DamagedEnt")  if !self.VC_PastAngleInt then self.VC_PastAngleInt = 0 end  if !self.VC_FixingInt then self.VC_FixingInt = 0 end  if self:GetNWBool("VC_Fixing") then  if self:GetNWInt("VC_FixingStartTime") != 0 then  if !self.VC_FixingIntDec then  self.VC_FixingInt = self.VC_FixingInt+0.03*FTm  if self.VC_FixingInt > 1 then self.VC_FixingInt = 1 self.VC_FixingIntDec = true end  else  local Extra = CurTime()-self:GetNWInt("VC_FixingStartTime")if Extra > 4 then Extra = 4 end Extra = Extra/4  self.VC_FixingInt = self.VC_FixingInt-(0.03-Extra*0.025)*FTm if self.VC_FixingInt < 0 then self.VC_FixingInt = 0 self.VC_FixingIntDec = false end  end  end  elseif self.VC_FixingInt > 0 then  self.VC_FixingInt = self.VC_FixingInt-0.02*FTm if self.VC_FixingInt < 0 then self.VC_FixingInt = 0 end  end   local FixAng = Angle(0,0,0) if self.VC_FixingInt > 0 then FixAng = LerpAngle(VC.EaseInOut(self.VC_FixingInt), FixAng, Angle(18,-10,-60)) end   if IsValid(ent) then  if self.VC_PastAngleInt < 1 then self.VC_PastAngleInt = self.VC_PastAngleInt+0.05*FTm if self.VC_PastAngleInt > 1 then self.VC_PastAngleInt = 1 end end  elseif self.VC_PastAngleInt > 0 then  self.VC_PastAngleInt = self.VC_PastAngleInt-0.02*FTm if self.VC_PastAngleInt < 0 then self.VC_PastAngleInt = 0 end  end   if self.VC_PastAngleInt > 0 then  self.VC_PastAngle = LerpAngle((IsValid(ent) and 0.05 or 0.01)*FTm, self.VC_PastAngle or ang, IsValid(ent) and ((ent:LocalToWorld(self:GetNWVector("VC_DamagedPos"))-pos):Angle()+Angle(0,22,0)) or ang)   ang = LerpAngle(VC.EaseInOut(self.VC_PastAngleInt), ang, self.VC_PastAngle)  else  self.VC_PastAngle = nil  end return pos, ang+FixAng end local rs7 = "vc.check_msg_work_ALS_k4" 